/*! For license information please see 8072.b34520f4cb967a36f89c-site-bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkbobcat_monorepo=self.webpackChunkbobcat_monorepo||[]).push([[8072],{408072:function(e,t,n){n.r(t),n.d(t,{areBackgroundAnimationsEnabledOnThisDevice:function(){return C},default:function(){return D}});var i=n(468420),a=n(327344),o=n(844845),s=n(54103),r=n.n(s),l=n(778914),h=n.n(l),c=n(786483),u=n(818166),d=n(914578),m=n(694473),_=n.n(m),g=n(933032),f=n.n(g),p=n(820666),v=n(223336),y=function(){function e(t,n){var a,s,l,h;if((0,i.Z)(this,e),(0,o.Z)(this,"_waypoints",void 0),(0,o.Z)(this,"_refreshTimeout",null),(0,o.Z)(this,"_animationType",null),this._waypoints=[],t&&"none"!==t.page_scroll){var c=t.page_scroll;this._animationType=c;var u="s-animation-page-".concat(c,"-before");_()(a=v(n)).call(a,".s-section .s-component, .s-section.s-rows-section .s-item-text-group, .process-item-infos").each((function(e,t){if(!p(t)){var n=(t=v(t)).parents(".s-info-box"),i=t.parents(".s-item-text-group");n.length>0?t=n:i.length>0&&(t=i),t.addClass(u)}})),v("."+u).each((function(){v(this).parents("."+u).removeClass(u)}));var m=r()(s=this._onScrolledToElement).call(s,this);this._waypoints=_()(l=v(n)).call(l,"."+u).waypoint((function(e){"down"===e&&(m(this.element),this.destroy())}),{offset:"100%"}),this._onScroll=d.debounce(r()(h=this._onScroll).call(h,this),200),v(window).on("scroll",this._onScroll),this._refreshTimeout=f()((function(){Waypoint.refreshAll(),this._refreshTimeout=null}),500)}}return(0,a.Z)(e,[{key:"_onScrolledToElement",value:function(e){v(e).addClass("s-animation-page-".concat(this._animationType)).removeClass("s-animation-page-".concat(this._animationType,"-before"))}},{key:"_onScroll",value:function(){var e=this;v(window).scrollTop()+v(window).height()>=v("body").height()&&v(".s-animation-page-".concat(this._animationType,"-before")).each((function(t,n){return e._onScrolledToElement(n)}))}},{key:"destroy",value:function(){var e;h()(e=this._waypoints).call(e,(function(e){return e.destroy()})),v(window).off("resize",this._onScroll),clearTimeout(this._refreshTimeout)}}]),e}(),w=n(620116),k=n.n(w),S=n(98926),b=n.n(S),A=n(977766),x=n.n(A),P=n(43138);function T(e){var t,n;return _()(t=v(e)).call(t,".s-bg-image").length>0&&(e=_()(n=v(e)).call(n,".s-bg-image")[0]),e}var C,Z=function(){function e(t,n){var a,s;(0,i.Z)(this,e),(0,o.Z)(this,"_sectionsThatShouldBeAnimated",void 0),(0,o.Z)(this,"_parallaxSpeed",void 0),(0,o.Z)(this,"_contentElement",void 0),(0,o.Z)(this,"_isDestroyed",!1),this._contentElement=n,this._applyParallax=r()(a=this._applyParallax).call(a,this),this._onWindowResize=d.debounce(r()(s=this._onWindowResize).call(s,this),200),v(window).on("resize",this._onWindowResize),v(window).on("scroll",this._applyParallax),this._updateSectionsThatShouldBeAnimated(),this._updateBackgroundAnimationSpeed(t,!0)}return(0,a.Z)(e,[{key:"_updateBackgroundAnimationSpeed",value:function(e,t){var n=this._getParallaxSpeed(e);n!==this._parallaxSpeed&&(this._parallaxSpeed=n,1===this._parallaxSpeed?this._removeParallax():t||this._applyParallax(!0))}},{key:"_getParallaxSpeed",value:function(e){return"none"===e.background?1:"fixed"===e.background?0:"parallax"===e.background?.3:void 0}},{key:"_onWindowResize",value:function(){var e=this;C()||this._sectionsThatShouldBeAnimated.each((function(t,n){e._revertAnimationStyles(n)})),this._applyParallax(!0)}},{key:"handlePageDataChange",value:function(e){this._updateSectionsThatShouldBeAnimated(),this._updateBackgroundAnimationSpeed(e)}},{key:"_removeParallax",value:function(){var e=this;this._sectionsThatShouldBeAnimated.each((function(t,n){e._revertAnimationStyles(n)}))}},{key:"_updateSectionsThatShouldBeAnimated",value:function(){var e,t;this._sectionsThatShouldBeAnimated=k()(e=_()(t=v(this._contentElement)).call(t,".s-section")).call(e,(function(e,t){var n=v(t),i=n.is(".s-slider-section"),a=n.is(".s-grid-section"),o="none"!=n.css("backgroundImage")||"none"!=_()(n).call(n,"s-bg-image").css("backgroundImage"),s=n.is(".s-bg-video");return o&&!i&&!s&&!a}))}},{key:"_applyParallax",value:function(e){var t=this;if(C()&&1!==this._parallaxSpeed){var n=v(window).scrollTop();this._sectionsThatShouldBeAnimated.each((function(i,a){if(a=T(a),v(a).hasClass("_animate-background")){var o=t._parallaxSpeed,s=a.offsetHeight,r=window.innerHeight,l=(window.innerWidth,a.getBoundingClientRect().top+n),h=l-r,c=l+s,u=h<=n&&n<=c,d=c-h,m=(n-h)/d,_=(Math.max(r,s),c-r),g=c-(_+(r*o-d*o*((_-h)/d)));if(e&&$B.TH.getBackgroundImageSize(v(a),(function(e){if(!t._isDestroyed){var n=e.width/e.height;if(v(a).hasClass("_image-position-center"))v(a).data("imageWidth",e.width),v(a).data("imageHeight",e.height);else{var i=g,o=g*n;o<v(a).outerWidth()&&(i=(o=v(a).outerWidth())/n),v(a).data("imageWidth",o),v(a).data("imageHeight",i)}t._applyParallax(!1)}})),u){var f,p=v(a).offset().left+(v(a).outerWidth()-v(a).data("imageWidth"))/2,y=r*o-d*o*m,w=(g-v(a).data("imageHeight"))/2+y+2.75;if(b()(w))return;v(a).css({"background-attachment":"fixed","background-position-x":p,"background-position-y":w}),"repeat"!==v(a).css("background-repeat")&&v(a).css({"background-size":x()(f="".concat(v(a).data("imageWidth"),"px ")).call(f,v(a).data("imageHeight"),"px")})}}else t._revertAnimationStyles(a)}))}}},{key:"_revertAnimationStyles",value:function(e){e=T(e),v(e).css("background-attachment","");var t=v(e).attr("data-react-style");t&&v(e).css(JSON.parse(t))}},{key:"destroy",value:function(){this._removeParallax(),v(window).off("resize",this._onWindowResize),v(window).off("scroll",this._applyParallax),this._isDestroyed=!0}}]),e}();C=function(){return!(P.isMobile()||P.isSmallScreen()||P.isEdge()||P.isIE11())},n(569600);var E=n(2991),B=n.n(E),W=function(){function e(t,n){if((0,i.Z)(this,e),(0,o.Z)(this,"_contentElement",void 0),this._contentElement=n,!P.isMobile()&&"zoom_in"===t.image_link_hover){var a=[".s-component.s-media",".s-gallery-item",".image-wrapper",".s-image",".s-blog-avatar-container"],s=B()(a).call(a,(function(e){return".s-section:not(.s-footer-section) "+e+" a img"})).join(", ");s+=", .s-blog-avatar, .s-grid-section-cell a .s-bg-image",v(n).on("mouseenter.imageLinkHoverAnimator",s,(function(){var e,t=v(this),n=t.width(),i=t.height();e=n>i?(n+20)/n:(i+20)/i,v(this).css("transform","scale("+e+")")})),v(n).on("mouseleave.imageLinkHoverAnimator",s,(function(){v(this).css("transform","")}))}}return(0,a.Z)(e,[{key:"destroy",value:function(){v(this._contentElement).off("mouseenter.imageLinkHoverAnimator"),v(this._contentElement).off("mouseleave.imageLinkHoverAnimator")}}]),e}(),D=function(){function e(t){var n,a;(0,i.Z)(this,e),(0,o.Z)(this,"_newPageFadeInToken",null),(0,o.Z)(this,"_animations",void 0),(0,o.Z)(this,"_contentElement",void 0),this._contentElement=t,this._shouldAnimate()&&(u.getSiteAnimations(),this._initAnimations(t),this._onPageDataChange=d.debounce(r()(n=this._onPageDataChange).call(n,this),50),u.addChangeListener(this._onPageDataChange),this._onNewPageFadeIn=r()(a=this._onNewPageFadeIn).call(a,this),this._newPageFadeInToken=c.Event.subscribe("Page.afterNewOneFadeIn",this._onNewPageFadeIn))}return(0,a.Z)(e,[{key:"_onPageDataChange",value:function(){var e,t=u.getSiteAnimations();h()(e=this._animations).call(e,(function(e){e.handlePageDataChange&&e.handlePageDataChange(t)}))}},{key:"_onNewPageFadeIn",value:function(){u.getSiteAnimations(),this._destroyAnimations(),this._initAnimations(this._contentElement)}},{key:"_initAnimations",value:function(e){var t=u.getSiteAnimations();this._animations=[],this._animations.push(new y(t,e)),this._animations.push(new W(t,e)),this._animations.push(new Z(t,e))}},{key:"_shouldAnimate",value:function(){return!/animation=0/.test(window.location.href)}},{key:"destroy",value:function(){this._shouldAnimate()&&(u.removeChangeListener(this._onPageDataChange),c.Event.unsubscribe(this._newPageFadeInToken),this._destroyAnimations())}},{key:"_destroyAnimations",value:function(){var e;h()(e=this._animations).call(e,(function(e){return e.destroy()}))}}]),e}()}}]);